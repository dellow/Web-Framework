/* ==========================================================================
   Base > Forms > Base
   Styling for elements within a form tag
========================================================================== */
form {
	position: relative;

	// Positioning
	.left {
		width: 49%;
		float: left;
	}
	.right {
		width: 49%;
		float: right;
	}

	// Notes
	.note {
		font-size: 90%;
		opacity: 0.65;
	}
	span.note {
		@include nudge(margin-left, 0.5);
	}

	// Field wrappers
	.field {
		@include nudge(margin-bottom, 0.5);
		position: relative;
		@extend %cf;
		// Abstractions
		&.left, &.right {
			margin-bottom: 0;
		}
	}

	// Fieldset
	fieldset {
		@include nudge(margin-bottom, 1);
	}

	// Labels
	label, .label {
		margin: 0 0 5px;
		position: relative;
		abbr {
			color: color(red);
		}
		input[type="radio"], input[type="checkbox"] {
			@include nudge(margin-left, 0.5);
		}
		// Pseudo
		&:first-child {
			input[type="radio"], input[type="checkbox"] {
				margin-left: 0;
			}
		}
	}

	// All form elements
	input, .input, select, textarea, button[type="submit"], button[type="reset"], .button {
		height: $form_field_height;
		border: 1px solid lighten(color(grey, dark), 60%);
		vertical-align: top;
		position: relative;
		border-radius: $border_radius_base;
		cursor: pointer;
		transition: color $animation ease, background-color $animation ease, border-color $animation ease;
		// Pseudo
		&:hover, &:active {
			border-color: lighten(color(grey, dark), 50%);
		}
		&:focus {
			border-color: lighten(color(grey, dark), 35%);
		}
		&[readonly], &[readonly]:hover, &.readonly, &.readonly:hover, &.readonly:active,
		&[disabled], &[disabled]:hover, &.disabled, &.disabled:hover, &.disabled:active  {
			border-color: lighten(color(grey, dark), 60%);
			cursor: no-drop;
			background: lighten(color(grey, dark), 70%);
		}
		&[disabled], &[disabled]:hover, &.disabled, &.disabled:hover, &.disabled:active {
			opacity: 0.5;
		}
	}

	// General fields
	input, .input, select, textarea {
		@include nudge(padding, 0.2 0.4);
		background: color(white);
	}

	// Textareas
	textarea {
		min-height: 100px; // Degradable
		height: 125px;
	}

	// Radio & Checkboxes
	%radio-checkbox, input[type="radio"], input[type="checkbox"] {
		width: auto;
		height: auto;
		margin: -2px 2px 0 0;
		border: 0;
		display: inline;
		vertical-align: middle;
		// Siblings
		& + label {
			@include nudge(margin, 0 1 0 0.2);
			vertical-align: middle;
		}
	}

	// Buttons
	button[type="submit"], button[type="reset"], .button {
		@include nudge(padding, 0 1.2);
		border: 0;
		text-align: center;
		background: lighten(color(grey, dark), 70%);
		// Pseudo
		&:hover {
			background: lighten(color(grey, dark), 65%);
		}
		&:active {
			background: lighten(color(grey, dark), 60%);
		}
	}

	// Specific Fields
	label, .label, input, select, textarea {
		&.qty, &.voucher, &.coupon, &.half, &.small, &.v-small {
			display: inline-block !important;
			+ .note {
				margin: 7px 0 0 10px !important;
				display: inline-block !important;
			}
		}
		&.qty {
			max-width: 56px;
		}
		&.voucher, &.coupon {
			max-width: (100% / 3);
			margin: 0;
			display: inline-block !important;
			+ button[type="submit"] {
				max-width: (100% / 1.5);
				display: inline-block;
			}
		}
		&.full {
			width: 100% !important;
			max-width: 100%;
		}
		&.half {
			max-width: (100% / 2) - 1;
		}
		&.small {
			max-width: (100% / 3);
		}
		&.v-small {
			max-width: (100% / 6);
		}
	}
}

@include respond-to($tablet){
	form {
		// Specific Fields
		input, select, textarea {
			&.voucher, &.coupon {
				max-width: (100% / 2) - 1;
				+ button[type="submit"] {
					max-width: (100% / 2) - 1;
				}
			}
			&.small {
				max-width: (100% / 2) - 1;
			}
			&.v-small {
				max-width: (100% / 3);
			}
		}
	}
}

@include respond-to($mobile){
	form {
		// Specific Fields
		input, select, textarea {
			&.v-small {
				max-width: (100% / 2) - 1;
			}
		}
	}
}

@include respond-to(360px){
	form {
		// Specific Fields
		input, select, textarea {
			&.qty, &.voucher, &.coupon, &.half, &.small, &.v-small {
				+ .note {
					margin: 7px 0 0 0 !important;
				}
			}
			&.voucher, &.coupon {
				max-width: 100%;
				width: 100%;
				+ button[type="submit"] {
					max-width: 100%;
					width: 100%;
					margin: 4px 0 2px;
				}
			}
			&.v-small {
				max-width: 100%;
				width: 100%;
				margin: 4px 0 2px;
			}
		}
	}
}
