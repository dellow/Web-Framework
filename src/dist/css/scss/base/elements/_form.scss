// ==========================================================================
// Base > Elements > Form
// Styling for elements within a form tag.
// ==========================================================================


input:not([type="radio"]):not([type="checkbox"]), select, textarea, .iframe-field {
	@include nudge(padding, 0.25 0.35);
	border-radius: $forms_border_radius;
	border: 1px solid color(grey);
	display: inline-block;
	background: color(white);
	transition: border-color $animation ease;
	&:hover {
		border-color: darken(color(grey), 12.5%);
	}
	&:focus {
		border-color: darken(color(grey), 25%);
	}
	&[disabled] {
		&, &:hover, &:focus {
			border-color: color(grey);
			color: darken(color(grey), 15%);
			background: lighten(color(grey), 10%);
		}
	}
	// Placeholders.
	&::-webkit-input-placeholder {
		color: color(grey);
	}
	&::-moz-placeholder {
		color: color(grey);
	}
	&:-moz-placeholder {
		color: color(grey);
	}
	&:-ms-input-placeholder {
		color: color(grey);
	}
	&::placeholder {
		color: color(grey);
	}
}

input:not([type="radio"]):not([type="checkbox"]), select, .iframe-field {
	height: $forms_field_height;
}

textarea {
	min-height: 175px;
}

label, .label {
	display: inline-block;
  line-height: 1.2;
	span {
		font-weight: normal;
	}
	abbr {
		color: color(red);
	}
  input[type="checkbox"], input[type="radio"] {
    @include nudge(margin, 0 0.25 0 0);
  }
}

fieldset {
	@include nudge(margin-bottom, 1);
  &:last-child {
    margin-bottom: 0;
  }
}

.iframe-field {
	width: 100%;
}

.select {
	position: relative;
	display: inline-block;
	select {
		width: 100%;
		padding: 8px 30px 8px 8px;
		border-radius: $forms_border_radius;
		appearance: none;
	}
	&:before {
		@extend .material-icons;
		height: 100%;
    position: absolute;
		top: 0; right: 3px;		
    content: 'keyboard_arrow_down';
		pointer-events: none;
		display: flex;
		align-items: center;
    color: color(grey);
    line-height: 1;
		transition: color $animation ease;
	}
	&:hover {
		&:before {
			color: darken(color(grey), 12.5%);
		}
	}
}

.checkbox {
  position: relative;
  display: inline-block;
  white-space: nowrap;
	label {
		min-width: calc(1em + 2px);
    margin: 0 !important;
		position: initial;
    display: inline-block;
		vertical-align: middle;
		span {
			margin-left: 8px;
			vertical-align: top;
		}
		&:before, &:after {
			width: calc(1em + 2px);
			height: calc(1em + 2px);
	    border: 1px solid transparent;
    	border-radius: 20%;
			content: '';
	    display: inline-block;
	    background-color: transparent;
		}
		&:before {
    	border-color: color(grey);
		}
		&:after {
			position: absolute;
			left: 0; top: 12%;
    	transform: scale(.7);
		}
	}
	input[type="checkbox"], input[type="radio"] {
		width: 100%;
		height: 100%;
		min-width: 1em;
    margin: 0;
    padding: 0;
		position: absolute;
    left: 0; top: 0;
    z-index: 2;
    opacity: 0;
    cursor: pointer;
		&:disabled {
			+ label {
				&:after {
					background-color: #f1f1f1 !important;
				}
			}
		}
		&:checked {
			+ label {
				&:after {
					background-color: #53c7a8 !important;
				}
			}
		}
	}
	&:hover {
		input[type="checkbox"], input[type="radio"] {
			+ label {
				&:before {
		    	border-color: darken(color(grey), 12.5%);
				}
			}
			&:checked {
				+ label {
					&:before {
			    	border-color: color(grey); // This prevents checked boxes from changing border colour on hover.
					}
				}
			}
		}
	}
}


// ----------------------------------------------------------------------- //
