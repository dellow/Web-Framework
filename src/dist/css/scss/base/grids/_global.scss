/* ==========================================================================
  Base > Grids > Global
  Global grid layouts.
========================================================================== */


/* -- Flex -- */
.flex-grid {
	@extend %flex;
  $value: px-to-rem($gutter * $mn);
  width: calc(100% + #{$value});
  @include nudge(margin-top, -$gutter);
	position: relative;
  @include nudge(left, -$gutter);
	// All columns
	[class*="col-"] {
		width: $col_1;
    @include nudge(padding, $gutter 0 0 $gutter);
	}
	// Abstractions
	&--no-gutter {
		width: $col_1;
		margin-top: 0;
		left: 0;
		[class*="col-"] {
			padding: 0;
		}
	}
	@each $key, $value in $col_array {
		.#{$key} {
			width: $value;
		}
		&--no-gutter .#{$key} {
			width: $value;
		}
	}
}


/* ----------------------------------------------------------------------- */


/* -- System -- */
.grid {
  @extend %cf;
  $value: px-to-rem($gutter * $mn);
  width: calc(100% + #{$value});
  @include nudge(margin-top, -$gutter);
	position: relative;
  @include nudge(left, -$gutter);
	[class*="col-"] {
		width: $col_1;
    @include nudge(padding, $gutter 0 0 $gutter);
		float: left;
	}
	// Abstractions
	&--no-gutter {
		width: $col_1;
		margin-top: 0;
		left: 0;
		[class*="col-"] {
			padding: 0;
		}
	}
	&--bricked {
		display: inline-block;
		letter-spacing: -4px; // Hack to prevent negative margin having weird effects
		[class*="col-"] {
			float: none;
			display: inline-block;
			vertical-align: top;
			letter-spacing: normal;
		}
	}
	// Columns.
	@each $key, $value in $col_array {
		.#{$key} {
			width: $value
		}
		&--no-gutter .#{$key} {
			width: $value;
		}
	}
}
