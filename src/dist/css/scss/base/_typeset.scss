/* ==========================================================================
   Base > Typeset
   App fonts and type settings.
========================================================================== */


/* -- HTML -- */
html {
	@include khtml();
}

/* -- Body -- */
body {
	@include kbody();
    font-family: $base_font;
	word-wrap: break-word;
	color: color(copy, body);
}


/* ----------------------------------------------------------------------- */


/* -- Heading Formatting -- */
h1, h2, h3, h4, h5, h6 {
	font-feature-settings: 'dlig' 1, 'liga' 1, 'lnum' 1, 'kern' 1;
	color: color(copy, header);
	// Pseudo
	&:first-child {
		margin-top: 0;
	}
}
h1 {
	@include ktype(6, 1, 0.5); // scale, before, after, line-height, offset, pull, push, ie-compatability
}
h2 {
	@include ktype(5, 1, 0.25); // scale, before, after, line-height, offset, pull, push, ie-compatability
}
h3 {
	@include ktype(4, 0.5, 0.25); // scale, before, after, line-height, offset, pull, push, ie-compatability
}
h4 {
	@include ktype(3, 0.5, 0.25); // scale, before, after, line-height, offset, pull, push, ie-compatability
}
h5 {
	@include ktype(2, 0.5, 0); // scale, before, after, line-height, offset, pull, push, ie-compatability
}
h6 {
	@include ktype(1, 0.5, 0); // scale, before, after, line-height, offset, pull, push, ie-compatability
}


/* ----------------------------------------------------------------------- */


/* -- General Type & Rhythm -- */
p, li, dd {
	font-feature-settings: 'kern' 1, 'onum' 1, 'liga' 1;
}


/* ----------------------------------------------------------------------- */


/* -- Links, Buttons & Hover Styles -- */
a, button {
	color: color(copy, link);
	text-decoration: none;
	transition: color $animation ease, background $animation ease;
	// Pseudo
	&:hover {
		color: color(copy, hover);
	}
	&:active {
		color: color(copy, active);
	}
}


/* ----------------------------------------------------------------------- */


/* -- Content Areas -- */
.page__content {
	// Margins
	blockquote, dl, figure, ol, p, pre, ul {
		@include ktype(0, 0, 0.75); // scale, before, after, line-height, offset, pull, push, ie-compatability
		&:last-child {
			margin-bottom: 0;
		}
	}

	// Lists.
	ul, ol {
		margin-left: 1.2em;
		li {
			@include nudge(margin-bottom, 0.1);
		}
		ul, ol {
			margin-left: 1.2em;
			list-style-type: circle;
		}
	}
	ul {
		list-style-type: disc;
	}
	dl {
		dd {
			@include nudge(margin-bottom, 0.1);
			@include nudge(text-indent, 1);
		}
	}
}


/* ----------------------------------------------------------------------- */


/* -- Hatnotes -- */
.page__hatnote {
	@include nudge(padding-left, 1);
	font-style: italic;
}


/* ----------------------------------------------------------------------- */


/* -- Citation -- */
cite {
	// Descendants
	.cite__profession {
		font-weight: $bold;
	}
}


/* ----------------------------------------------------------------------- */


/* -- Source Formatting -- */
p {
	code {
		color: color(green);
	}
}
code {
	font-weight: $regular;
	font-family: $monospaced;
	white-space: pre-wrap;
	word-wrap: break-word;
	tab-size: 4;
}
pre {
	@include nudge(padding, 0.5 0.75);
	border: 1px solid color(grey);
	position: relative;
	border-radius: $border_radius_base;
	background: color(grey, light);
}
kbd {
	@include nudge(padding, 0.25 0.5);
	margin: 0 0.25em;
	display: inline-block;
	border: 1px solid color(grey);
	border-radius: $border_radius_base;
	color: color(grey, medium);
	background: color(grey, light);
}


/* ----------------------------------------------------------------------- */


@each $key, $value in $colors {
	$class: "" + $key;
	.text {
		&--color-#{$class} {
			color: color($key);
		}
	}
}
