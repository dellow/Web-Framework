// ==========================================================================
// Base > Components > Forms
// Styling for elements within a form tag.
// ==========================================================================


input:not([type="radio"]):not([type="checkbox"]), select, textarea {
	width: 100%;
	@include nudge(padding, 0.25);
	border: 1px solid color(grey);
  border-radius: $base_border_radius;
	display: inline-block;
	@include scale(font-size, 14px);
	background: color(white);
	transition: border-color $animation ease;
	&[disabled] {
    color: darken(color(grey), 15%);
		background: #efeded;
		&:hover, &:focus {
			border-color: color(grey);
		}
	}
	&:hover {
		border-color: darken(color(grey), 12.5%);
	}
	&:focus {
		border-color: darken(color(grey), 25%);
	}
	// Utilities.
  &.u-full {
    width: 100%;
  }
  &.u-half {
    width: (100% / 2) - 1;
  }
  &.u-small {
    width: (100% / 3);
  }
  &.u-v-small {
    width: (100% / 6);
  }
	// Placeholders.
	&::-webkit-input-placeholder {
		color: color(grey, medium);
	}
	&::-moz-placeholder {
		color: color(grey, medium);
	}
	&:-moz-placeholder {
		color: color(grey, medium);
	}
	&:-ms-input-placeholder {
		color: color(grey, medium);
	}
	&::placeholder {
		color: color(grey, medium);
	}
}

input:not([type="radio"]):not([type="checkbox"]), select {
	height: $base_field_height;
}

select {
	+ select {
		@include nudge(margin-left, 0.5);
	}
}

.select {
	width: 100%;
	position: relative;
	display: inline-block;
	vertical-align: bottom;
	select {
		@include nudge(padding, 8px 2em 8px 0.25);
		appearance: none;
	}
	&:before {
		width: 2em;
		margin-top: -8px;
    position: absolute;
    top: 50%; right: 0;
    content: '\25bc';
    pointer-events: none;
    color: color(grey);
    line-height: 1;
    text-align: center;
    transform: scale(0.84, 0.42);
		transition: color $animation ease;
	}
	&:hover {
		&:before {
			color: darken(color(grey), 12.5%);
		}
	}
}

.checkbox {
	margin-right: 1em;
  position: relative;
  display: inline-block;
  white-space: nowrap;
  line-height: 1;
	label {
		min-width: calc(1em + 2px);
    margin: 0;
		position: initial;
    display: inline-block;
    text-indent: 1.5em;
		span {
			margin-left: 3px;
			position: relative;
    	top: -4px;
		}
		&:before, &:after {
			width: calc(1em + 2px);
			height: calc(1em + 2px);
	    border: 1px solid transparent;
    	border-radius: 20%;
			content: '';
	    display: block;
	    box-sizing: border-box;
	    position: absolute;
	    left: 0; top: calc((0% - (100% - 1em)) - 8%);
	    z-index: 0;
	    background-color: transparent;
		}
		&:before {
    	border-color: color(grey);
		}
		&:after {
    	transform: scale(.7);
		}
	}
	input[type="checkbox"], input[type="radio"] {
		width: 100%;
		height: 100%;
		min-width: 1em;
    margin: 0;
    padding: 0;
		position: absolute;
    left: 0; top: 0;
    z-index: 2;
    opacity: 0;
    cursor: pointer;
		&:checked {
			+ label {
				&:after {
					background-color: #53c7a8 !important;
				}
			}
		}
	}
	&:hover {
		input[type="checkbox"], input[type="radio"] {
			+ label {
				&:before {
		    	border-color: darken(color(grey), 12.5%);
				}
			}
			&:checked {
				+ label {
					&:before {
			    	border-color: color(grey); // This prevents checked boxes from changing border colour on hover.
					}
				}
			}
		}
	}
}

textarea {
	min-height: 100px;
}

label, .label {
	display: inline-block;
	font-weight: $bold;
  line-height: 1.2;
	span {
		font-weight: $normal;
	}
	abbr {
		color: color(red);
	}
  input[type="checkbox"], input[type="radio"] {
    @include nudge(margin, 0 0.25 0 0);
  }
}

fieldset {
	@include nudge(margin-bottom, 1);
  &:last-child {
    margin-bottom: 0;
  }
}


// ----------------------------------------------------------------------- //
